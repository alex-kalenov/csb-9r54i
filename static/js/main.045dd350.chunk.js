(this["webpackJsonplucky-spin"]=this["webpackJsonplucky-spin"]||[]).push([[0],[,,,function(e,t,n){e.exports={"meta-wrapper":"Circle_meta-wrapper__OPJxj",wrapper:"Circle_wrapper__2_ifb",mark:"Circle_mark__2U6yv",triangle:"Circle_triangle__uY47X"}},function(e,t,n){e.exports={wrapper:"Position_wrapper__2PY_z",color:"Position_color__2jbOh",disabled:"Position_disabled__1Zo6O"}},function(e,t,n){e.exports={wrapper:"Result_wrapper__gfEiK",rest:"Result_rest__3xWcF",blocked:"Result_blocked__hmfEG"}},,function(e,t,n){e.exports={wrapper:"Inputs_wrapper__18frC",submit:"Inputs_submit__2AO2u"}},,,function(e,t,n){e.exports={wrapper:"Input_wrapper__3t9lJ"}},function(e,t,n){e.exports={position:"Positions_position__3BvXI"}},,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(9),r=n.n(c),s=n(2),o=n(1),a=n.n(o),i=function(e){var t=["#4b8fb1","#f4755c","#64c492","#dfa388","#491fb3","#df123c","#5d3f57","#3b6bac","#fedc0c","#6d3a5d"],n=t.length;return t[e-n*Math.floor(e/n)+(Math.floor(e/n)>0?1:0)]};var l=n(0),u=a.a.createContext({positions:[],winner:null,blocked:!1,round:0,setPositions:function(e){},setWinner:function(){}}),b=function(e){var t=Object(o.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],a=Object(o.useState)(null),i=Object(s.a)(a,2),b=i[0],d=i[1],j=Object(o.useState)(0),p=Object(s.a)(j,2),O=p[0],f=p[1],x=Object(o.useState)(!1),h=Object(s.a)(x,2),m=h[0],v=h[1];Object(o.useEffect)((function(){null!==b&&setTimeout((function(){v(!1)}),1e4)}),[b,O]);var _={positions:c,winner:b,blocked:m,round:O,setPositions:r,setWinner:function(){if(!m){var e,t=(e=c.length,Math.floor(Math.random()*e));v(!0),d(t),f((function(e){return e+1}))}}};return Object(l.jsx)(u.Provider,{value:_,children:e.children})},d=u,j=n(7),p=n.n(j),O=n(10),f=n.n(O),x=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],a=Object(o.useRef)(),i="input-number-".concat(e.number);return Object(l.jsxs)("div",{className:f.a.wrapper,children:[Object(l.jsxs)("label",{htmlFor:i,children:["\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u2116 ",e.number]}),Object(l.jsx)("input",{type:"text",id:i,ref:a}),Object(l.jsx)("button",{type:"button",onClick:function(){var t=a.current.value;t.length&&(e.onAdd(t,c,e.number),r(!0))},children:c?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},h=function(e){var t=Object(o.useContext)(d),n=Object(o.useState)([]),c=Object(s.a)(n,2),r=c[0],a=c[1],u=Object(o.useState)([]),b=Object(s.a)(u,2),j=b[0],O=b[1],f=Object(o.useCallback)((function(e,t,n){t?a((function(t){return t.map((function(t,c){return c===n-1?{text:e,color:t.color}:t}))})):(a((function(t){return t.concat({text:e,color:i(t.length)})})),O((function(e){var t=e.length+1;return e.concat(Object(l.jsxs)("div",{className:"col-xl-6 col-12",children:[" ",Object(l.jsx)(x,{number:t,onAdd:f})]},t))})))}),[]);return Object(o.useEffect)((function(){O((function(e){return e.concat(Object(l.jsx)("div",{className:"col-xl-6 col-12",children:Object(l.jsx)(x,{number:"1",onAdd:f})},"1"))}))}),[f]),Object(l.jsxs)("div",{className:p.a.wrapper,children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0430"}),Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.setPositions(r)},children:[Object(l.jsx)("div",{className:"row",children:j}),r.length>2&&Object(l.jsx)("button",{type:"submit",className:p.a.submit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})})]})},m=n(8),v=n(3),_=n.n(v),w=function(e){var t=Object(o.useContext)(d),n=t.positions,c=t.winner,r=t.round,s=window.innerWidth,a=600;s<1200&&(a=400),s<992&&(a=250);var i=360/n.length,u=a/2*function(e){var t=e*Math.PI/180;return Math.tan(t)}(i/2),b="".concat(u,"px solid transparent"),j={width:a,height:a};null!==c&&(j=Object(m.a)(Object(m.a)({},j),{},{transform:"rotate(-".concat(i*c+360*r,"deg)")}));var p=n.map((function(e,t){var n={transform:"translateX(-50%) rotate(".concat(i*t,"deg)"),borderBottom:"".concat(a/2,"px solid ").concat(e.color),borderRight:b,borderLeft:b,borderTop:"".concat(a/2,"px solid transparent")};return Object(l.jsx)("div",{className:_.a.triangle,style:n,children:Object(l.jsx)("div",{children:t+1})},t)}));return Object(l.jsxs)("div",{className:_.a["meta-wrapper"],children:[Object(l.jsx)("div",{className:_.a.wrapper,style:j,children:p}),Object(l.jsx)("div",{className:_.a.mark})]})},g=n(4),k=n.n(g),N=function(e){var t=e.disabled,n="".concat(k.a.wrapper," ").concat(t?k.a.disabled:"");return Object(l.jsxs)("div",{className:n,children:[Object(l.jsx)("div",{className:k.a.color,style:{backgroundColor:e.color},children:e.index+1}),Object(l.jsx)("span",{children:e.children})]})},C=n(11),P=n.n(C),y=function(){var e=Object(o.useContext)(d),t=e.positions.map((function(t,n){var c=e.winner,r=e.blocked,s=null!==c&&n!==c&&!r;return Object(l.jsx)("div",{className:"col-12 col-sm-6 ".concat(P.a.position),children:Object(l.jsx)(N,{color:t.color,index:n,disabled:s,children:t.text})},n)}));return Object(l.jsx)("div",{className:"row",children:t})},S=n(5),I=n.n(S),M=function(e){var t=Object(o.useContext)(d),n=t.blocked?I.a.blocked:"";return Object(l.jsxs)("div",{className:I.a.wrapper,children:[Object(l.jsx)(w,{}),Object(l.jsxs)("div",{className:I.a.rest,children:[Object(l.jsx)("button",{onClick:t.setWinner,className:n,children:"\u041f\u0423\u0421\u041a"}),Object(l.jsx)(y,{})]})]})};n(17);function E(){var e=Object(o.useContext)(d);return Object(l.jsx)("div",{className:"wrapper",children:e.positions.length?Object(l.jsx)(M,{}):Object(l.jsx)(h,{})})}var R=document.getElementById("root");r.a.render(Object(l.jsx)(b,{children:Object(l.jsx)(E,{})}),R)}],[[18,1,2]]]);
//# sourceMappingURL=main.045dd350.chunk.js.map